//
// Copyright (c) 2014 Brian Chan (bchanx.com)
// All Rights Reserved.
//

@import '../base.less';

@gameboy-duration: 6s;

.disable, .disabled {
  display: none;
}

#gameboy-image {
  border: 1px black solid;
  background: url('/static/images/gameboy-color-green.jpg');
  background-size: cover;
  width: 344px;
  height: 600px;
  margin: 0 auto;
  opacity: 0.2;
  z-index: 1;
  position: absolute;
  left: 50%;
  margin-left: -172px;
}

#gameboy-gif {
  background: url('/static/images/gameboy-color-green.gif') 50% 50%;
  width: 300px;
  height: 300px;
  position: absolute;
  left: 0;
  top: 0;
}

@gameboy-width: 344px;
@gameboy-height: 600px;
#gameboy {
  position: relative;
  width: @gameboy-width;
  height: @gameboy-height;
  margin: 0 auto;
  .transform(translateZ(1));
  z-index: 5;

  @canvas-width: 330px;
  @canvas-height: 570px;
  @canvas-color: #b3b3b3;
  #canvas {
    position: absolute;
    width: @canvas-width;
    right: (@gameboy-width - @canvas-width) / 2;
    height: @canvas-height;
    top: 10px;
    .border-radius(15px 15px 170px 170px ~"/" 15px 15px 35px 35px);
    background-color: @canvas-color;
    -webkit-animation: canvas @gameboy-duration linear;
    z-index: 1;
  }

  @-webkit-keyframes canvas {
    0% { width: 0; height: 120px; .border-radius(15px 15px 0 0); }
    3% { width: 330px; height: 120px; }
    7.5% { .border-radius(15px 15px 0 0); }
    8.5% { height: 570px; .border-radius(15px, 15px, 170px, 170px ~"/" 15px, 15px, 35px, 35px); }
  }

  @border-width: 310px;
  @border-height: 520px;
  @border-thickness: 4px;
  @border-color: @gray;
  @border-top: 30px;
  @border-right: (@gameboy-width - @border-width) / 2;

  #border {
    position: absolute;
    width: @border-width;
    height: @border-height;
    right: @border-right;
    top: @border-top;
    border: @border-thickness @border-color solid;
    .border-radius(15px 15px 170px 170px ~"/" 15px 15px 35px 35px);
    z-index: 2;
    -webkit-animation: border @gameboy-duration linear;
  }
  @-webkit-keyframes border {
    0% { border-color: transparent; border-bottom-color: transparent; width: 0; height: 10px; .border-radius(15px 15px 0 0); }
    1% { border-top-color: @border-color; width: 0; height: 10px; .border-radius(15px 15px 0 0); }
    3% { width: @border-width; border-left-color: transparent; height: 10px; }
    3.1% { border-left-color: @border-color; }
    8.0% { .border-radius(15px 15px 0 0); }
    8.9% { border-bottom-color: transparent; }
    9.0% { height: @border-height; .border-radius(15px 15px 170px 170px ~"/" 15px 15px 35px 35px); border-bottom-color: @border-color; }
    10% { border-right-color: transparent; }
    10.1% { border-right-color: @border-color; }
  }

  #border-top,
  #border-bottom {
    position: absolute;
    background-color: @canvas-color;
    width: 0;
    height: @border-thickness * 2;
    z-index: 3;
  }

  #border-left,
  #border-right {
    position: absolute;
    background-color: @canvas-color;
    width: @border-thickness * 5;
    height: 0;
    z-index: 3;
  }

  #border-top {
    top: @border-top;
    right: @border-right;
    -webkit-animation: border-top @gameboy-duration linear;
  }
  @-webkit-keyframes border-top {
    0.5% { width: 0; }
    3% { width: @border-width; right: @border-right; }
    4.5% { width: 0; right: @border-width + @border-right; }
  }

  #border-left {
    left: @border-right;
    top: @border-top;
    -webkit-animation: border-left @gameboy-duration linear;
  }
  @-webkit-keyframes border-left {
    0% { height: 0; }
    3% { height: 0; }
    4.5% { height: @border-height - 300px; top: @border-top; }
    9.2% { height: 0; top: @border-height + @border-top; }
  }

  #border-bottom {
    top: @border-top + @border-height - 30px;
    left: @border-right;
    height: 30px;
    -webkit-animation: border-bottom @gameboy-duration linear;
  }
  @-webkit-keyframes border-bottom {
    0% { width: 0; }
    8.5% { width: 0; }
    9.0% { width: @border-width; left: @border-right; }
    10.5% { width: 0; left: @border-width + @border-right; }
  }

  #border-right {
    right: @border-right;
    top: @border-top + 6px;
    -webkit-animation: border-right @gameboy-duration linear;
  }
  @-webkit-keyframes border-right {
    0% { height: 0; }
    9% { height: 0; }
    9.5% { height: @border-height - 10; top: @border-top + 6px; }
    10.5% { height: @border-height - 10; top: @border-top + 6px; }
    12% { height: 0; bottom: 50px + @border-height; }
  }

  .screw {
    width: 20px;
    height: 20px;
    border-radius: 100%;
    background-color: @black;
    z-index: 4;
    position: absolute;
  }
  #screw1 { right: 30px; top: 45px; -webkit-animation: screw1 @gameboy-duration linear; }
  #screw2 { left: 30px; top: 45px; -webkit-animation: screw2 @gameboy-duration linear; }
  #screw3 { left: 10px; top: 230px; -webkit-animation: screw3 @gameboy-duration linear; }
  #screw4 { right: 10px; top: 230px; -webkit-animation: screw4 @gameboy-duration linear; }

}

