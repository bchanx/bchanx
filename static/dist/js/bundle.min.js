!function e(t,a,r){function s(n,l){if(!a[n]){if(!t[n]){var u="function"==typeof require&&require;if(!l&&u)return u(n,!0);if(i)return i(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var c=a[n]={exports:{}};t[n][0].call(c.exports,function(e){var a=t[n][1][e];return s(a?a:e)},c,c.exports,e,t,a,r)}return a[n].exports}for(var i="function"==typeof require&&require,n=0;n<r.length;n++)s(r[n]);return s}({1:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),u=e("react"),o=r(u),c=(e("react-router"),e("./Content")),d=r(c),p=function(e){function t(){return s(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),l(t,[{key:"render",value:function(){return o.default.createElement(d.default,null,this.props.children)}}]),t}(o.default.Component);a.default=p},{"./Content":2,react:"react","react-router":"react-router"}],2:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("react-dom"),l=r(n),u=i.default.createClass({displayName:"Content",componentDidUpdate:function(){var e=l.default.findDOMNode(this);e.scrollTop=0;var t=e.parentNode.parentNode;t.scrollTop=0},render:function(){return i.default.createElement("div",{className:"content"},this.props.children)}});a.default=u},{react:"react","react-dom":"react-dom"}],3:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),u=e("react"),o=r(u),c=e("./Logo"),d=r(c),p=function(e){function t(){return s(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),l(t,[{key:"render",value:function(){return o.default.createElement("div",{id:"bchanx"},o.default.createElement("div",{id:"banner"},o.default.createElement("div",{id:"bchanx-logo"},o.default.createElement(d.default,null)),o.default.createElement("div",{id:"bchanx-text"},"bchanx")),o.default.createElement("div",{id:"projects"},o.default.createElement("a",{href:"/9kmmr"},"9k MMR")," (2017)",o.default.createElement("br",null),o.default.createElement("a",{href:"http://www.cestlacreme.ca",target:"_blank"},"C'est la Creme")," (2016)",o.default.createElement("br",null),o.default.createElement("a",{href:"/animated-gameboy-in-css"},"Animated Gameboy in CSS")," (2015)",o.default.createElement("br",null),o.default.createElement("a",{href:"/slidr"},"slidr.js")," (2014)",o.default.createElement("br",null),o.default.createElement("a",{href:"/logos-in-pure-css"},"Logos in Pure CSS")," (2013)"),o.default.createElement("div",{id:"social"},o.default.createElement("a",{href:"https://www.twitter.com/bchanx",className:"ion-social-twitter"}),o.default.createElement("a",{href:"https://www.instagram.com/bchanx",className:"ion-social-instagram"}),o.default.createElement("a",{href:"https://www.github.com/bchanx",className:"ion-social-github"}),o.default.createElement("a",{href:"https://www.linkedin.com/bchanx",className:"ion-social-linkedin"})))}}]),t}(o.default.Component);a.default=p},{"./Logo":4,react:"react"}],4:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=i.default.createClass({displayName:"Logo",render:function(){return i.default.createElement("div",{className:"logo-bchanx"},i.default.createElement("div",{className:"logo-content themeable"},i.default.createElement("div",{className:"logo-text"},i.default.createElement("div",{className:"logo-b"})),i.default.createElement("div",{className:"logo-pic"},i.default.createElement("img",{src:"http://www.gravatar.com/avatar/c43834b8380872e2bca1bf624c6a693f.jpg"}))))}});a.default=n},{react:"react"}],5:[function(e,t,a){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(a,"__esModule",{value:!0});a.Debounce={debounce:function(e,t){var a=null,s=!1,i=function(){var i=arguments;s&&this.clearTimeout(a),s=!0,a=this.setTimeout(function(){s=!1,e.apply(void 0,r(i))},t)};return i}}},{}],6:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("classnames"),l=r(n),u=e("./redux/actionTypes"),o=e("./redux/actions"),c=i.default.createClass({displayName:"Controls",getDefaultProps:function(){return{style:null,current:{},controls:{},overlay:{},dispatch:null}},getInitialState:function(){return{playPauseDisabled:!1,muteDisabled:!1,previousDisabled:!1,nextDisabled:!1,repeatDisabled:!1,shuffleDisabled:!1,playlistDisabled:!1}},componentWillReceiveProps:function(e){var t=e.current.media.id&&e.current.media.type!==u.MEDIA_TYPES.UNKNOWN,a=!(t||e.current.queue.length||e.current.order.length&&e.current.index!==e.current.order.length);this.setState({playPauseDisabled:!t||e.current.isInvalid||e.overlay.show,muteDisabled:a,previousDisabled:e.current.source===u.SOURCES.QUEUE||!e.current.index,nextDisabled:a,repeatDisabled:a||e.current.isInvalid||e.overlay.show,shuffleDisabled:e.current.isInvalid||e.overlay.show||!e.current.order.length,playlistDisabled:!(e.current.order.length||e.current.queue.length)})},playPause:function(){this.state.playPauseDisabled||this.props.dispatch(this.props.current.isPlaying?(0,o.pause)(!0):(0,o.play)(!0))},mute:function(){this.state.muteDisabled||this.props.dispatch(this.props.current.isMuted?(0,o.unmute)(!0):(0,o.mute)(!0))},previous:function(){this.state.previousDisabled||this.props.dispatch((0,o.hideOverlay)(),(0,o.playPrev)())},next:function(){this.state.nextDisabled||this.props.dispatch((0,o.hideOverlay)(),(0,o.playNext)())},repeat:function(){this.state.repeatDisabled||this.props.dispatch((0,o.repeat)())},shuffle:function(){this.state.shuffleDisabled||this.props.dispatch((0,o.shuffle)())},playlist:function(){this.state.playlistDisabled||this.props.dispatch((0,o.playlist)(),(0,o.videoShowing)(!0))},render:function(){return i.default.createElement("div",{className:(0,l.default)("controls",{hidden:this.props.current.media.type===u.MEDIA_TYPES.UNKNOWN&&this.props.current.source===u.SOURCES.UNKNOWN}),style:this.props.style},i.default.createElement("div",{className:(0,l.default)("play-pause-button",{disabled:this.state.playPauseDisabled}),onClick:this.playPause},i.default.createElement("span",{className:(0,l.default)({"ion-ios-play":!this.props.current.isPlaying,"ion-ios-pause":this.props.current.isPlaying})})),i.default.createElement("div",{className:(0,l.default)("mute-button",{disabled:this.state.muteDisabled}),onClick:this.mute},i.default.createElement("span",{className:(0,l.default)({"ion-android-volume-up":!this.props.current.isMuted,"ion-android-volume-off":this.props.current.isMuted})})),i.default.createElement("div",{className:(0,l.default)("prev-button",{disabled:this.state.previousDisabled}),onClick:this.previous},i.default.createElement("span",{className:"ion-ios-skipbackward"})),i.default.createElement("div",{className:(0,l.default)("next-button",{disabled:this.state.nextDisabled}),onClick:this.next},i.default.createElement("span",{className:"ion-ios-skipforward"})),i.default.createElement("div",{className:(0,l.default)("repeat-button",{active:this.props.controls.repeat,disabled:this.state.repeatDisabled}),onClick:this.repeat},i.default.createElement("span",{className:"ion-ios-loop-strong"})),i.default.createElement("div",{className:(0,l.default)("shuffle-button",{active:this.props.controls.shuffle,disabled:this.state.shuffleDisabled}),onClick:this.shuffle},i.default.createElement("span",{className:"ion-ios-shuffle-strong"})),i.default.createElement("div",{className:(0,l.default)("playlist-button",{active:this.props.controls.playlist,disabled:this.state.playlistDisabled}),onClick:this.playlist},i.default.createElement("span",{className:"ion-ios-list-outline"})))}});a.default=c},{"./redux/actionTypes":22,"./redux/actions":23,classnames:"classnames",react:"react"}],7:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("react-timer-mixin"),l=r(n),u=e("classnames"),o=r(u),c=e("./Playlists"),d=r(c),p=e("./VideoPlayer"),h=r(p),f=e("./Search"),m=r(f),y=e("./Slidr"),E=r(y),v=e("./redux/actionTypes"),S=e("./redux/actions"),_=e("./redux/reducers"),P=r(_),g=i.default.createClass({displayName:"Jukebox",mixins:[l.default],getInitialState:function(){return{current:{isPlaying:!1,isMuted:!1,isInvalid:!1,isFullscreen:!1,isVideoShowing:!0,source:v.SOURCES.UNKNOWN,playStates:[],index:null,playlist:{type:v.PLAYLIST_TYPES.UNKNOWN,index:null,name:""},order:[],queue:[],media:{id:null,type:v.MEDIA_TYPES.UNKNOWN,title:"",duration:""}},controls:{play:!1,pause:!1,mute:!1,unmute:!1,repeat:!1,shuffle:!0,playlist:!1},overlay:{show:!1,duration:0,action:null},search:{expand:!1,focus:!1},playlists:{global:[{name:"Number two",created:Date.now(),modified:Date.now(),media:[{id:"m4RbODbWRVI",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"BwWzSyxNc9I",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"}]},{name:"EDM",created:Date.now(),modified:Date.now(),media:[{id:"JbH_Vn5pq8I",type:v.MEDIA_TYPES.YOUTUBE,title:"Hey there!",duration:"3:22"},{id:"Csm3BX30jZQ",type:v.MEDIA_TYPES.YOUTUBE,title:"yo yo",duration:"1:23"},{id:"Rhm_-gMbTGU",type:v.MEDIA_TYPES.YOUTUBE,title:"hi",duration:"3:33"},{id:"cERIwGKSU1A",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"XWBEbR47Kwc",type:v.MEDIA_TYPES.YOUTUBE,title:"fifth",duration:"5:55"},{id:"2EaE0_gQLw0",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"Qsy7kJyizoc",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"Vsy1URDYK88",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"nT3pHuebr4U",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"hT_nvWreIhg",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"OIRE6iw-ws4",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"WFkCO4jVRg4",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"uJorl7V3uNk",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"qXuuh49aF1M",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"YaikPv034Hc",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"wxvz_w2JUkU",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"OPf0YbXqDm0",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"},{id:"WoCfFoQeWoU",type:v.MEDIA_TYPES.YOUTUBE,title:"fourth",duration:"4:44"}]}],personal:[]}}},_shouldUpdate:!1,shouldComponentUpdate:function(e,t){var a=this._shouldUpdate;return this._shouldUpdate=!1,a},forceUpdate:function(e){this._shouldUpdate=!0,this.setState(e)},dispatch:function(){for(var e=this,t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];a&&a.length&&!function(){var t=e.state;a.forEach(function(e){e&&(t=(0,P.default)(t,e))}),e.forceUpdate(t)}()},slidr:{ref:null,loaded:!1,timer:null},slidrHandler:function(e){var t=this;this.slidr.timer||(this.slidr.timer=this.setTimeout(function(){"video-player"===e.out.slidr?t.dispatch((0,S.videoShowing)(!1)):"video-player"===e.in.slidr&&t.dispatch((0,S.videoShowing)(!0)),t.slidr.timer=null},100))},slidrCreate:function(e){var t=this;this.slidr.ref||(this.slidr.ref=e.create("jukebox-slidr",{transition:"cube",overflow:!0,controls:"border",keyboard:!1,theme:"#e8e8e8",before:this.slidrHandler,after:this.slidrHandler}).add("h",["playlists","video-player","playlists"]).start("playlists"),this.setTimeout(function(){t.slidr.loaded=!0,t._shouldUpdate=!0,t.setState(t.state)},200))},render:function(){return i.default.createElement("div",{className:"jukebox-container"},i.default.createElement("div",{className:(0,o.default)("jukebox",{active:this.slidr.loaded})},i.default.createElement(E.default,{id:"jukebox-slidr",className:this.state.current.isVideoShowing?"":"video-not-showing",onLoaded:this.slidrCreate},i.default.createElement(d.default,{current:this.state.current,playlists:this.state.playlists,slidr:this.slidr.ref,dispatch:this.dispatch}),i.default.createElement(h.default,{current:this.state.current,controls:this.state.controls,overlay:this.state.overlay,slidr:this.slidr.ref,dispatch:this.dispatch}))),i.default.createElement(m.default,{className:(0,o.default)({active:this.slidr.loaded}),current:this.state.current,search:this.state.search,slidr:this.slidr.ref,dispatch:this.dispatch}))}});a.default=g},{"./Playlists":16,"./Search":17,"./Slidr":18,"./VideoPlayer":20,"./redux/actionTypes":22,"./redux/actions":23,"./redux/reducers":24,classnames:"classnames",react:"react","react-timer-mixin":"react-timer-mixin"}],8:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("classnames"),l=r(n),u=e("./redux/actionTypes"),o=e("./redux/actions"),c=i.default.createClass({displayName:"MediaGroup",getDefaultProps:function(){return{name:"",type:u.SOURCES.UNKNOWN,playlist:[],current:{},search:"",dispatch:null}},playMedia:function(e){this.props.dispatch((0,o.playNow)(e,this.props.type))},render:function(){var e=this,t=!1,a=!1,r=this.props.playlist.map(function(r,s){var i=r.title.toLowerCase().indexOf(e.props.search)<0,n=e.props.type===u.SOURCES.PLAYLIST&&s<e.props.current.index;return t=t||!i,a=a||!n,{id:r.id,type:r.type,title:r.title,duration:r.duration,hidden:i,played:n,idx:s}});return r=r.map(function(t){var a=e.playMedia.bind(e,t);return i.default.createElement("div",{key:t.type+"_"+t.id,className:(0,l.default)("media-item",{active:e.props.current.source===e.props.type&&e.props.current.media.id===t.id,hidden:t.hidden,played:!e.props.search&&t.played}),onClick:a},i.default.createElement("div",{className:"media-number"},t.idx+1),i.default.createElement("div",{className:"media-title"},t.title),i.default.createElement("div",{className:"media-duration"},t.duration))}),i.default.createElement("div",{className:(0,l.default)("media-group",{queue:this.props.type===u.SOURCES.QUEUE,noresults:!t})},i.default.createElement("div",{className:(0,l.default)("media-group-name",{hidden:!(this.props.search&&t||!this.props.search&&a)})},this.props.name),i.default.createElement("div",{className:"media-items"},r))}});a.default=c},{"./redux/actionTypes":22,"./redux/actions":23,classnames:"classnames",react:"react"}],9:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("classnames"),l=r(n),u=e("./redux/actionTypes"),o=e("./MediaGroup"),c=r(o),d=i.default.createClass({displayName:"MediaList",getDefaultProps:function(){return{style:null,current:{},controls:{},search:"",dispatch:null}},render:function(){return i.default.createElement("div",{className:(0,l.default)("media-list",{invisible:!this.props.controls.playlist,hidden:this.props.current.source===u.SOURCES.UNKNOWN}),style:this.props.style},this.props.current.queue.length?i.default.createElement(c.default,{name:"queue",type:u.SOURCES.QUEUE,playlist:this.props.current.queue,current:this.props.current,search:this.props.search,dispatch:this.props.dispatch}):null,this.props.current.order.length?i.default.createElement(c.default,{name:this.props.current.playlist.name,type:u.SOURCES.PLAYLIST,playlist:this.props.current.order,current:this.props.current,search:this.props.search,dispatch:this.props.dispatch}):null)}});a.default=d},{"./MediaGroup":8,"./redux/actionTypes":22,classnames:"classnames",react:"react"}],10:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("classnames"),l=r(n),u=i.default.createClass({displayName:"MediaSearch",getDefaultProps:function(){return{current:{},controls:{},value:"",search:"",updateSearch:null}},handleChange:function(e){this.props.updateSearch(e.target.value)},clearSearch:function(){this.props.updateSearch(""),this.refs.mediaSearchInput.focus()},render:function(){var e=this,t=this.props.current.queue.filter(function(t){return t.title.toLowerCase().indexOf(e.props.search)>=0}).length,a=this.props.current.order.filter(function(t){return t.title.toLowerCase().indexOf(e.props.search)>=0}).length,r=t+a;return i.default.createElement("div",{className:(0,l.default)("media-search",{hidden:!(this.props.current.queue.length||this.props.current.order.length),invisible:!this.props.controls.playlist})},i.default.createElement("div",{className:"media-search-icon ion-ios-settings"}),i.default.createElement("input",{ref:"mediaSearchInput",className:"media-search-input",type:"text",placeholder:"Find from playlist...",value:this.props.value,onChange:this.handleChange}),this.props.search?i.default.createElement("div",{className:"media-search-count"},r||"No"," Match",1===r?"":"es"):null,this.props.search?i.default.createElement("div",{className:"search-clear ion-ios-close-empty",onClick:this.clearSearch}):null)}});a.default=u},{classnames:"classnames",react:"react"}],11:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("classnames"),l=r(n),u=e("./redux/actionTypes"),o=e("./redux/actions"),c=i.default.createClass({displayName:"None",getDefaultProps:function(){return{current:{},slidr:null,dispatch:null}},triggerSearch:function(){this.props.dispatch((0,o.searchFocus)())},triggerPlaylist:function(){this.props.slidr.slide("playlists")},triggerRestart:function(){this.props.dispatch((0,o.restartPlaylist)(),(0,o.playCurrent)())},render:function(){var e=void 0;return e=null!==this.props.current.playlist.index?this.props.current.order.length?i.default.createElement("div",null,"You've reached the end of the playlist!",i.default.createElement("br",null),i.default.createElement("br",null),i.default.createElement("span",{className:"action",onClick:this.triggerRestart},"Restart")," this playlist, choose ",i.default.createElement("span",{className:"action",onClick:this.triggerPlaylist},"another"),", or ",i.default.createElement("span",{className:"action",onClick:this.triggerSearch},"search")," a video."):i.default.createElement("div",null,"This playlist is empty!",i.default.createElement("br",null),i.default.createElement("br",null),i.default.createElement("span",{className:"action",onClick:this.triggerSearch},"Search")," for videos to add, or select another ",i.default.createElement("span",{className:"action",onClick:this.triggerPlaylist},"playlist"),"."):this.props.current.source===u.SOURCES.QUEUE?i.default.createElement("div",null,"You've reached the end of the queue!",i.default.createElement("br",null),i.default.createElement("br",null),"Please ",i.default.createElement("span",{className:"action",onClick:this.triggerSearch},"search")," for another video, or select a ",i.default.createElement("span",{className:"action",onClick:this.triggerPlaylist},"playlist"),"."):i.default.createElement("div",null,"Select a ",i.default.createElement("span",{className:"action",onClick:this.triggerPlaylist},"playlist"),", or ",i.default.createElement("span",{className:"action",onClick:this.triggerSearch},"search")," for a video."),i.default.createElement("div",{className:(0,l.default)("video-none",{hidden:this.props.current.media.type!==u.MEDIA_TYPES.UNKNOWN})},e)}});a.default=c},{"./redux/actionTypes":22,"./redux/actions":23,classnames:"classnames",react:"react"}],12:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("classnames"),l=r(n),u=e("./redux/actionTypes"),o=i.default.createClass({displayName:"NowPlaying",getDefaultProps:function(){return{style:null,current:{},controls:{},dispatch:null}},render:function(){return i.default.createElement("div",{className:(0,l.default)("now-playing",{hidden:this.props.current.media.type===u.MEDIA_TYPES.UNKNOWN&&!this.props.current.order.length}),style:this.props.style},i.default.createElement("div",{className:"now-playing-icon ion-ios-volume-high"}),i.default.createElement("div",{className:"now-playing-display"},i.default.createElement("div",{className:"now-playing-name"},"now playing:"),i.default.createElement("div",{className:"now-playing-title"},this.props.current.media.title||i.default.createElement("span",{className:"none"},"—"))))}});a.default=o},{"./redux/actionTypes":22,classnames:"classnames",react:"react"}],13:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("react-timer-mixin"),l=r(n),u=e("classnames"),o=r(u),c=e("./redux/actions"),d=e("./OverlayLoading"),p=r(d),h=i.default.createClass({displayName:"Overlay",mixins:[l.default],getDefaultProps:function(){return{overlay:{},dispatch:null}},getInitialState:function(){return{hidden:!0,count:0}},cancel:function(){this.props.dispatch((0,c.hideOverlay)())},continue:function(){this.clearInterval(this._timer),this.props.dispatch((0,c.hideOverlay)(),this.props.overlay.action)},_timer:null,overlayTimer:function(){var e=this;this.clearInterval(this._timer),this._timer=this.setInterval(function(){var t=e.state.count-1;t<=0?e.continue():e.setState({count:t})},1e3)},componentWillReceiveProps:function(e){e.overlay.show?this.state.hidden&&(this.setState({hidden:!1,count:e.overlay.duration}),this.overlayTimer()):this.state.hidden||(this.setState({hidden:!0,count:0}),this.clearInterval(this._timer))},render:function(){return i.default.createElement("div",{className:(0,o.default)("overlay",{hidden:this.state.hidden})},i.default.createElement("div",{className:"overlay-message"},"Next in ",this.state.count,"..."),i.default.createElement("div",{className:"overlay-continue",onClick:this.continue},i.default.createElement(p.default,{duration:this.props.overlay.duration}),i.default.createElement("span",{className:"ion-ios-play"})),i.default.createElement("div",{className:"overlay-cancel",onClick:this.cancel},"Cancel"))}});a.default=h},{"./OverlayLoading":14,"./redux/actions":23,classnames:"classnames",react:"react","react-timer-mixin":"react-timer-mixin"}],14:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=i.default.createClass({displayName:"OverlayLoading",getDefaultProps:function(){return{duration:5}},render:function(){return i.default.createElement("svg",{className:"overlay-loading",height:"100px",width:"100px"},i.default.createElement("circle",{r:"47px",cx:"50px",cy:"50px",style:{animation:"overlay-progress "+this.props.duration+"s linear"}}))}});a.default=n},{react:"react"}],15:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("react-localstorage"),l=r(n),u=e("classnames"),o=r(u),c=e("./redux/actions"),d=e("./redux/actionTypes"),p=i.default.createClass({displayName:"PersonalPlaylists",mixins:[l.default],getDefaultProps:function(){return{currentPlaylist:{},personalPlaylists:[],slidr:null,dispatch:null}},getInitialState:function(){return{value:"",playlists:[],actions:{},showPlaylistCreate:!1}},getStateFilterKeys:function(){return["playlists"]},_initialSync:!1,componentWillReceiveProps:function(e){var t=JSON.stringify(e.personalPlaylists),a=JSON.stringify(this.state.playlists);t!==a&&this.setState({playlists:JSON.parse(t)})},shouldComponentUpdate:function(e,t){return this._initialSync&&(this._initialSync=!1,t.playlists.length&&this.props.dispatch((0,c.restorePlaylists)(d.PLAYLIST_TYPES.PERSONAL,t.playlists))),!0},componentDidMount:function(){this._initialSync=!0},loadPlaylist:function(e){this.props.dispatch((0,c.selectPlaylist)(d.PLAYLIST_TYPES.PERSONAL,e),(0,c.playCurrent)()),this.props.slidr&&this.props.slidr.slide("video-player")},createPlaylist:function(){this.state.value&&(this.props.dispatch((0,c.createPlaylist)(d.PLAYLIST_TYPES.PERSONAL,this.state.value)),this.setState({value:""}))},deletePlaylist:function(e){this.props.dispatch((0,c.deletePlaylist)(d.PLAYLIST_TYPES.PERSONAL,e))},updatePlaylist:function(e,t){var a=t.key,r=this.state.actions[a],s=r.name.trim();s&&(this.props.dispatch((0,c.updatePlaylist)(d.PLAYLIST_TYPES.PERSONAL,e,s)),this.updateClicked("edit",a,s))},handleChange:function(e){this.setState({value:e.target.value})},stopPropagation:function(e){e.stopPropagation()},updateClicked:function(e,t,a){var r=JSON.parse(JSON.stringify(this.state.actions)),s=r[t]||{};s[e]=!s[e],s.name=a,r[t]=s,this.setState({actions:r})},editClicked:function(e){this.updateClicked("edit",e.key,e.name)},deleteClicked:function(e){this.updateClicked("delete",e.key,e.name)},togglePlaylistCreate:function(){this.setState({showPlaylistCreate:!this.state.showPlaylistCreate})},handleNameChange:function(e,t){var a=JSON.parse(JSON.stringify(this.state.actions)),r=a[e];r.name=t.target.value,a[e]=r,this.setState({actions:a})},moveCaretToEnd:function(e){var t=e.target.value;e.target.value="",e.target.value=t},render:function(){var e=this,t=this.props.personalPlaylists.map(function(t,a){var r=e.loadPlaylist.bind(e,a),s=e.state.actions[t.key]||{};return i.default.createElement("div",{key:t.key,className:(0,o.default)("playlist-item",{active:a===e.props.currentPlaylist.index&&t.name===e.props.currentPlaylist.name,editing:s.edit,deleting:s.delete}),onClick:r},i.default.createElement("div",{className:"playlist-meta"},s.edit?i.default.createElement("input",{className:"playlist-edit-input",type:"text",autoFocus:!0,ref:"playlistEdit"+t.key,placeholder:"New playlist name",value:s.name,onClick:e.stopPropagation,onKeyDown:e.stopPropagation,onChange:e.handleNameChange.bind(e,t.key),onFocus:e.moveCaretToEnd}):i.default.createElement("div",{className:"playlist-name"},t.name),s.edit?null:i.default.createElement("div",{className:"playlist-length"}," [",t.media.length," item",1===t.media.length?"":"s","]")),i.default.createElement("div",{className:(0,o.default)("playlist-actions",{editing:s.edit||s.delete}),onClick:e.stopPropagation},s.edit?i.default.createElement("div",{className:"edit-mode"},i.default.createElement("div",{className:"playlist-edit-save action",onClick:e.updatePlaylist.bind(e,a,t)},"save"),i.default.createElement("div",{className:"playlist-cancel action default",onClick:e.editClicked.bind(e,t)},"cancel")):s.delete?i.default.createElement("div",{className:"delete-mode"},i.default.createElement("div",{className:"playlist-delete-confirm action danger",onClick:e.deletePlaylist.bind(e,a)},"delete?"),i.default.createElement("div",{className:"playlist-cancel action default",onClick:e.deleteClicked.bind(e,t)},"cancel")):i.default.createElement("div",{className:"normal-mode"},i.default.createElement("div",{className:"playlist-edit action",onClick:e.editClicked.bind(e,t)},"edit"),i.default.createElement("div",{className:"playlist-delete action",onClick:e.deleteClicked.bind(e,t)},"delete"))))});return i.default.createElement("div",{className:"playlists-content personal"},i.default.createElement("div",{className:"playlists-group-name"},"Personal Playlists (",t.length,")"),i.default.createElement("div",{className:(0,o.default)("playlist-items",{create:!t.length&&this.state.showPlaylistCreate})},t.length?t:this.state.showPlaylistCreate?null:i.default.createElement("div",{className:"playlist-item placeholder"},"You have no personal playlists. ",i.default.createElement("span",{className:"action",onClick:this.togglePlaylistCreate},"Create one"),".")),this.state.showPlaylistCreate?i.default.createElement("div",{className:"playlist-create"},i.default.createElement("input",{className:"playlist-create-input",type:"text",autoFocus:!0,ref:"playlistCreate",placeholder:"New playlist name...",value:this.state.value,onChange:this.handleChange}),i.default.createElement("span",{className:"action",onClick:this.createPlaylist},"create"),i.default.createElement("span",{className:"action default",onClick:this.togglePlaylistCreate},"cancel")):null)}});a.default=p},{"./redux/actionTypes":22,"./redux/actions":23,classnames:"classnames",react:"react","react-localstorage":"react-localstorage"}],16:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("classnames"),l=r(n),u=e("./PersonalPlaylists"),o=r(u),c=e("./redux/actions"),d=e("./redux/actionTypes"),p=i.default.createClass({displayName:"Playlists",getDefaultProps:function(){return{current:{},playlists:{},slidr:null,dispatch:null}},loadPlaylist:function(e){this.props.dispatch((0,c.selectPlaylist)(d.PLAYLIST_TYPES.GLOBAL,e),(0,c.playCurrent)()),this.props.slidr&&this.props.slidr.slide("video-player")},render:function(){var e=this,t=this.props.playlists.global.map(function(t,a){var r=e.loadPlaylist.bind(e,a);return i.default.createElement("div",{key:a,className:(0,l.default)("playlist-item",{active:a===e.props.current.playlist.index&&t.name===e.props.current.playlist.name}),onClick:r},i.default.createElement("div",{className:"playlist-name"},t.name),i.default.createElement("div",{className:"playlist-length"}," [",t.media.length," item",1===t.media.length?"":"s","]"))});return i.default.createElement("div",{className:"playlists","data-slidr":"playlists"},i.default.createElement("div",{className:"playlists-content global"},i.default.createElement("div",{className:"playlists-group-name"},"Global Playlists (",this.props.playlists.global.length,")"),i.default.createElement("div",{className:"playlist-items"},t)),i.default.createElement(o.default,{currentPlaylist:this.props.current.playlist,personalPlaylists:this.props.playlists.personal,slidr:this.props.slidr,dispatch:this.props.dispatch}))}});a.default=p},{"./PersonalPlaylists":15,"./redux/actionTypes":22,"./redux/actions":23,classnames:"classnames",react:"react"}],17:[function(e,t,a){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("react-timer-mixin"),l=r(n),u=e("classnames"),o=r(u),c=e("moment"),d=r(c),p=e("react-script-loader"),h=e("./redux/actions"),f=e("./redux/actionTypes"),m=e("./Common"),y=i.default.createClass({
displayName:"Search",mixins:[l.default,p.ReactScriptLoaderMixin,m.Debounce],getDefaultProps:function(){return{current:{},search:{},className:"",slidr:null,dispatch:null}},getInitialState:function(){return{query:"",last:"",token:null,loading:!1,error:!1,results:[]}},getScriptURL:function(){return"https://apis.google.com/js/client.js?onload=onLoadCallback"},onScriptLoaded:function(){},onScriptError:function(){},_cache:{},_addToCache:function(e,t,a,r){this._cache[e]||(this._cache[e]={}),this._cache[e].token=t,this._cache[e].results||(this._cache[e].results=[]),this._cache[e].results=this._cache[e].results.concat(a),this._cache[e].error=r},_finishSearch:function(e,t,a,r){this._addToCache(e,t,a,!!r),this.setState({query:e,last:e,token:t,loading:!1,error:!!r,results:this._cache[e].results})},_formatTime:function(e){var t=d.default.duration(e),a=String(t.asSeconds()%60),r=String(Math.floor(t.asMinutes()%60)),s=String(Math.floor(t.asHours()%60));return[s,r,a].map(function(e){return 1===e.length?"0"+e:e}).join(":").replace(/^[0:]+(.*?\d:\d{2})$/g,"$1")},_formatViews:function(e){for(var t=[];e.length>3;)t.push(e.slice(-3)),e=e.slice(0,-3);return t.push(e),t.reverse().join(",")},_getVideoDetails:function(e,t,a){var r=this;this._youtube&&a&&a.length&&this._youtube.videos.list({part:"contentDetails, statistics",id:a.map(function(e){return e.id}).join(", ")}).then(function(s){if(e===r.state.query)if(s&&s.result&&s.result.items&&s.result.items.length){var i=s.result.items.map(function(e,t){return{id:e.id,type:f.MEDIA_TYPES.YOUTUBE,title:a[t].snippet.title,duration:r._formatTime(e.contentDetails.duration),thumbnail:a[t].snippet.thumbnails.medium.url,artist:a[t].snippet.channelTitle,description:a[t].snippet.description,publishedAt:(0,d.default)(a[t].snippet.publishedAt).fromNow(),viewCount:r._formatViews(e.statistics.viewCount)}});r._finishSearch(e,t,i)}else r._finishSearch(e,null,[])},function(t){r._finishSearch(e,null,[],!0)})},_search:function(e,t){var a=this;if(this._youtube){if(!e)return;if(e===this.state.last&&!t)return;if(e!==this.state.query)return;if(this._cache[e]&&!t){var r=this._cache[e],s=r.token,i=r.results,n=r.error;return this.setState({query:e,last:e,token:s,loading:!1,error:n,results:i})}this._youtube.search.list({maxResults:t?10:9,pageToken:t,part:"snippet",q:e,type:"video"}).then(function(t){var r=t&&t.result&&t.result.nextPageToken||null;if(t&&t.result&&t.result.items&&t.result.items.length){var s=t.result.items.map(function(e){return{id:e.id.videoId,snippet:e.snippet}});a._getVideoDetails(e,r,s)}else a._finishSearch(e,r,[])},function(t){a._finishSearch(e,null,[],!0)})}},componentWillMount:function(){this.debouncedSearch=this.debounce(this._search,500)},_youtube:null,onLoadCallback:function(){var e=this;gapi.client.setApiKey(t.env.GOOGLE_BROWSER_API_KEY),gapi.client.load("youtube","v3").then(function(){e._youtube=gapi.client.youtube})},componentDidMount:function(){window.onLoadCallback=this.onLoadCallback},componentDidUpdate:function(){this.props.search.focus&&(this.refs.searchInput.focus(),this.props.dispatch((0,h.searchFocus)(!1)))},toggleSearch:function(){this.props.dispatch((0,h.searchToggle)())},loadMore:function(){this.runSearch(this.state.query,this.state.token)},runSearch:function(e,t){this.setState({loading:!0}),this.debouncedSearch(e,t)},handleChange:function(e){var t=e.target.value,a=t.trim();if(this.setState({value:t,query:a,error:!1}),a){if(a===this.state.last)return this.setState({loading:!1});this.runSearch(a)}else this._finishSearch("",null,[])},playResult:function(e){this.state.loading||(this.props.dispatch((0,h.playNow)(e,f.SOURCES.QUEUE)),this.props.slidr.slide("video-player"))},queueResult:function(e,t,a,r){this.state.loading||(this.props.dispatch((0,h.queueNext)(e,t,a,r),(0,h.playCurrent)()),this.props.current.isPlaying||this.props.slidr.slide("video-player"))},clearSearch:function(){this.handleChange({target:{value:""}})},render:function(){var e=this;return i.default.createElement("div",{className:(0,o.default)("search-container",this.props.className,{expanded:this.props.search.expand})},i.default.createElement("div",{className:"search"},i.default.createElement("div",{className:"search-icon",onClick:this.toggleSearch},i.default.createElement("span",{className:"ion-ios-search-strong"})),i.default.createElement("div",{className:"search-content"},i.default.createElement("div",{className:"search-bar"},i.default.createElement("input",{className:"search-input",type:"text",ref:"searchInput",placeholder:"Search for...",value:this.state.value,onChange:this.handleChange}),this.state.loading?i.default.createElement("div",{className:"search-loading"},i.default.createElement("span",{className:"loading-spinner ion-load-c"})):null,this.state.value&&!this.state.loading?i.default.createElement("div",{className:"search-clear ion-ios-close-empty",onClick:this.clearSearch}):null),i.default.createElement("div",{className:(0,o.default)("search-results",{hidden:!this.state.last,disabled:this.state.loading})},this.state.error?i.default.createElement("div",{className:"search-error"},"An error occured."):null,this.state.results.map(function(t){var a=e.playResult.bind(e,t),r=e.queueResult.bind(e,t.id,t.type,t.title,t.duration);return i.default.createElement("div",{key:t.id,className:"search-result"},i.default.createElement("div",{className:"search-result-thumbnail"},i.default.createElement("img",{src:t.thumbnail}),i.default.createElement("div",{className:"search-result-duration"},t.duration),i.default.createElement("div",{className:"search-result-overlay"},i.default.createElement("div",{className:"search-result-action queue",onClick:r},i.default.createElement("span",{className:"ion-ios-timer"}),i.default.createElement("div",{className:"search-result-action-text"},"+ QUEUE")),i.default.createElement("div",{className:"search-result-action play",onClick:a},i.default.createElement("span",{className:"ion-ios-play"}),i.default.createElement("div",{className:"search-result-action-text"},"PLAY")))),i.default.createElement("div",{className:"search-result-title"},i.default.createElement("a",{href:"https://www.youtube.com/watch?v="+t.id,target:"_blank"},t.title)),i.default.createElement("div",{className:"search-result-statistics"},i.default.createElement("span",{className:(0,o.default)("search-result-artist",{unknown:!t.artist})},t.artist||"unknown")),i.default.createElement("div",{className:"search-result-statistics"},t.viewCount," views  ·  ",t.publishedAt))}),this.state.results.length?null:i.default.createElement("div",{className:"search-none"},i.default.createElement("span",null,"No results found.")),this.state.results.length&&this.state.token?i.default.createElement("div",{className:"search-result search-more"},i.default.createElement("span",{onClick:this.loadMore},"Load more...")):null))))}});a.default=y}).call(this,e("_process"))},{"./Common":5,"./redux/actionTypes":22,"./redux/actions":23,_process:27,classnames:"classnames",moment:"moment",react:"react","react-script-loader":"react-script-loader","react-timer-mixin":"react-timer-mixin"}],18:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("react-script-loader"),l=i.default.createClass({displayName:"Slidr",mixins:[n.ReactScriptLoaderMixin],getInitialState:function(){return{loaded:!1,callback:!1}},getDefaultProps:function(){return{id:"slidr",className:"",onLoaded:null}},getScriptURL:function(){return"/static/dist/js/lib/slidr.min.js"},onScriptLoaded:function(){this.setState({loaded:!0})},componentDidUpdate:function(){this.state.loaded&&!this.state.callback&&this.props.onLoaded&&(this.props.onLoaded(window.slidr),this.setState({callback:!0}))},onScriptError:function(){},render:function(){return i.default.createElement("div",{id:this.props.id,className:this.props.className},this.props.children)}});a.default=l},{react:"react","react-script-loader":"react-script-loader"}],19:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("./None"),l=r(n),u=e("./YouTube"),o=r(u),c=e("./Overlay"),d=r(c),p=e("./redux/actionTypes"),h=e("./redux/actions"),f=i.default.createClass({displayName:"Video",getDefaultProps:function(){return{current:{},controls:{},overlay:{},slidr:null,dispatch:null}},exitFullscreen:function(){document.exitFullScreen?document.exitFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),this.props.dispatch((0,h.fullscreen)(!1))},componentWillReceiveProps:function(e){e.current.media.type===p.MEDIA_TYPES.UNKNOWN&&e.current.isFullscreen&&this.exitFullscreen()},playNow:function(){this.props.dispatch((0,h.playNow)({id:"-_PIGQjrnjI",type:p.MEDIA_TYPES.YOUTUBE,title:"play test",duration:"3:22"},p.SOURCES.QUEUE))},queueNext:function(){this.props.dispatch((0,h.queueNext)("OoDHA8dy7JM",p.MEDIA_TYPES.YOUTUBE,"queue test","3:22"),(0,h.playCurrent)())},render:function(){return i.default.createElement("div",{className:"video"},i.default.createElement(l.default,{current:this.props.current,slidr:this.props.slidr,dispatch:this.props.dispatch}),i.default.createElement(d.default,{overlay:this.props.overlay,dispatch:this.props.dispatch}),i.default.createElement(o.default,{current:this.props.current,controls:this.props.controls,dispatch:this.props.dispatch}),i.default.createElement("div",{className:"click"},i.default.createElement("div",{onClick:this.playNow},"PLAY_NOW!"),i.default.createElement("div",{onClick:this.queueNext},"QUEUE_NEXT!")))}});a.default=f},{"./None":11,"./Overlay":13,"./YouTube":21,"./redux/actionTypes":22,"./redux/actions":23,react:"react"}],20:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("react-timer-mixin"),l=r(n),u=e("classnames"),o=r(u),c=e("./Video"),d=r(c),p=e("./Controls"),h=r(p),f=e("./MediaList"),m=r(f),y=e("./MediaSearch"),E=r(y),v=e("./NowPlaying"),S=r(v),_=i.default.createClass({displayName:"VideoPlayer",mixins:[l.default],componentDidMount:function(){var e=this,t=!!window.chrome;this.setState({isChrome:t}),this.setInterval(function(){var t=e.refs.videoPlayer.children[0];if(t){var a=t.getBoundingClientRect().bottom;e.state.sticky+a!==0&&e.setState({sticky:-a})}},t?void 0:0)},getDefaultProps:function(){return{current:{},controls:{},overlay:{},slidr:null,dispatch:null,stickyOffset:25}},getInitialState:function(){return{isChrome:!1,sticky:0,value:"",search:""}},updateSearch:function(e){this.setState({value:e,search:e.toLowerCase()})},getStickyStyling:function(){var e={},t=this.state.sticky+this.props.stickyOffset;if(t>0)if(e.controls={marginTop:(t<=10?0:-Math.min(t-10,10))+"px"},e.nowPlaying={paddingBottom:Math.min(5+(t<=10?2*t:10+t),35)+"px"},this.state.isChrome)e.videoController={paddingTop:Math.min(t,190)+10+"px",top:190-Math.min(t,190)+170+25+this.state.sticky+"px"};else{var a=Math.min(t,this.props.stickyOffset);e.videoController={paddingTop:a+10+"px",top:-100-a+"px"},e.mediaList={marginTop:-a+"px"}}return e},render:function(){var e=this.state.sticky+this.props.stickyOffset,t=this.getStickyStyling();return i.default.createElement("div",{"data-slidr":"video-player",ref:"videoPlayer",className:(0,o.default)("video-player",{sticky:e>0,"is-chrome":this.state.isChrome})},i.default.createElement(d.default,{current:this.props.current,controls:this.props.controls,overlay:this.props.overlay,slidr:this.props.slidr,dispatch:this.props.dispatch}),i.default.createElement("div",{className:"video-controller",style:t.videoController},i.default.createElement(h.default,{style:t.controls,current:this.props.current,controls:this.props.controls,overlay:this.props.overlay,dispatch:this.props.dispatch}),i.default.createElement(S.default,{style:t.nowPlaying,current:this.props.current,controls:this.props.controls,dispatch:this.props.dispatch}),i.default.createElement(E.default,{current:this.props.current,controls:this.props.controls,value:this.state.value,search:this.state.search,updateSearch:this.updateSearch})),i.default.createElement(m.default,{style:t.mediaList,current:this.props.current,controls:this.props.controls,search:this.state.search,dispatch:this.props.dispatch}))}});a.default=_},{"./Controls":6,"./MediaList":9,"./MediaSearch":10,"./NowPlaying":12,"./Video":19,classnames:"classnames",react:"react","react-timer-mixin":"react-timer-mixin"}],21:[function(e,t,a){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("react-dom"),l=r(n),u=e("react-timer-mixin"),o=r(u),c=e("react-script-loader"),d=e("classnames"),p=r(d),h=e("./redux/actionTypes"),f=e("./redux/actions"),m=i.default.createClass({displayName:"YouTube",mixins:[c.ReactScriptLoaderMixin,o.default],getDefaultProps:function(){return{current:{},controls:{},dispatch:null}},getInitialState:function(){return{ready:!1}},getScriptURL:function(){return"http://www.youtube.com/iframe_api"},onScriptLoaded:function(){},onScriptError:function(){},_timer:null,monitorFullScreen:function(){var e=this;return this.setInterval(function(){if(e.props.current.media.type===h.MEDIA_TYPES.YOUTUBE){var t=l.default.findDOMNode(e).childNodes[0];if(t){var a=window.innerWidth===t.scrollWidth&&window.innerHeight===t.scrollHeight;a!==e.props.current.isFullscreen&&e.props.dispatch((0,f.fullscreen)(a))}e._youtube&&(e._youtube.isMuted()&&!e.props.current.isMuted?e.props.dispatch((0,f.audioMuted)(!0)):!e._youtube.isMuted()&&e.props.current.isMuted&&e.props.dispatch((0,f.audioMuted)(!1)))}else e.clearInterval(e._timer),e._timer=null},250)},componentDidMount:function(){window.onYouTubeIframeAPIReady=this.onYouTubeIframeAPIReady},componentWillUnmount:function(){this.clearInterval(this._timer),this._timer=null},_youtube:null,componentWillReceiveProps:function(e){this.state.ready&&(e.current.media.type===h.MEDIA_TYPES.YOUTUBE?(this._timer||(this._timer=this.monitorFullScreen()),e.current.media.id!==this.props.current.media.id&&this._youtube.loadVideoById(e.current.media.id)):this.props.current.isPlaying&&this._youtube.pauseVideo())},_isInvalid:function(){var e=this.props.current.playStates;return 3===e.length&&e[0]===YT.PlayerState.UNSTARTED&&e[1]===YT.PlayerState.BUFFERING&&e[2]===YT.PlayerState.UNSTARTED},componentDidUpdate:function(){if(this.props.current.media.type===h.MEDIA_TYPES.YOUTUBE){var e,t=[];this.props.controls.play?(this._youtube.playVideo(),t.push((0,f.play)(!1))):this.props.controls.pause&&(this._youtube.pauseVideo(),t.push((0,f.pause)(!1))),this.props.controls.mute?(this._youtube.mute(),t.push((0,f.mute)(!1),(0,f.audioMuted)(!0))):this.props.controls.unmute&&(this._youtube.unMute(),t.push((0,f.unmute)(!1),(0,f.audioMuted)(!1))),this._isInvalid()?this.props.current.isInvalid||(t.push((0,f.invalid)(!0)),this.props.current.isFullscreen?t.push((0,f.playNext)()):t.push((0,f.showOverlay)(5,(0,f.playNext)()))):this.props.current.isInvalid&&t.push((0,f.invalid)(!1),(0,f.hideOverlay)()),(e=this.props).dispatch.apply(e,t)}},onYouTubeIframeAPIReady:function(){this._youtube=new YT.Player("youtube-iframe",{width:"640",height:"360",videoId:null,playerVars:{enablejsapi:1,iv_load_policy:3,origin:t.env.HOSTNAME,rel:0,showinfo:0,autoplay:1},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange}})},onPlayerReady:function(e){e.target.setVolume(100),this.setState({ready:!0}),this.props.dispatch((0,f.mute)(!0))},onPlayerStateChange:function(e){var t,a=[(0,f.nowPlaying)(e.data===YT.PlayerState.PLAYING,e.data)];e.data===YT.PlayerState.PLAYING&&this.props.current.media.type===h.MEDIA_TYPES.UNKNOWN&&this._youtube.pauseVideo(),e.data===YT.PlayerState.BUFFERING?this._youtube.playVideo():e.data===YT.PlayerState.ENDED&&(this.props.controls.repeat?this._youtube.playVideo():this.props.current.isFullscreen?a.push((0,f.playNext)()):a.push((0,f.showOverlay)(5,(0,f.playNext)()))),(t=this.props).dispatch.apply(t,a)},stopVideo:function(){this._youtube.stopVideo()},render:function(){return i.default.createElement("div",{className:(0,p.default)("youtube",{hidden:this.props.current.media.type!==h.MEDIA_TYPES.YOUTUBE})},i.default.createElement("div",{id:"youtube-iframe"}))}});a.default=m}).call(this,e("_process"))},{"./redux/actionTypes":22,"./redux/actions":23,_process:27,classnames:"classnames",react:"react","react-dom":"react-dom","react-script-loader":"react-script-loader","react-timer-mixin":"react-timer-mixin"}],22:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.PLAY="PLAY",a.PAUSE="PAUSE",a.MUTE="MUTE",a.UNMUTE="UNMUTE",a.REPEAT="REPEAT",a.SHUFFLE="SHUFFLE",a.PLAYLIST="PLAYLIST",a.SEARCH_TOGGLE="SEARCH_TOGGLE",a.SEARCH_FOCUS="SEARCH_FOCUS",a.SHOW_OVERLAY="SHOW_OVERLAY",a.HIDE_OVERLAY="HIDE_OVERLAY",a.INVALID="INVALID",a.FULLSCREEN="FULLSCREEN",a.AUDIO_MUTED="AUDIO_MUTED",a.VIDEO_SHOWING="VIDEO_SHOWING",a.NOW_PLAYING="NOW_PLAYING",a.PLAY_NEXT="PLAY_NEXT",a.PLAY_PREV="PLAY_PREV",a.QUEUE_NEXT="QUEUE_NEXT",a.PLAY_NOW="PLAY_NOW",a.PLAY_CURRENT="PLAY_CURRENT",a.SELECT_PLAYLIST="SELECT_PLAYLIST",a.RESTART_PLAYLIST="RESTART_PLAYLIST",a.RESTORE_PLAYLISTS="RESTORE_PLAYLISTS",a.CREATE_PLAYLIST="CREATE_PLAYLIST",a.DELETE_PLAYLIST="DELETE_PLAYLIST",a.ADD_TO_PLAYLIST="ADD_TO_PLAYLIST",a.REMOVE_FROM_PLAYLIST="REMOVE_FROM_PLAYLIST",a.UPDATE_PLAYLIST="UPDATE_PLAYLIST",a.MEDIA_TYPES={UNKNOWN:"-1",YOUTUBE:"1"},a.SOURCES={UNKNOWN:-1,PLAYLIST:1,QUEUE:2},a.PLAYLIST_TYPES={UNKNOWN:"unknown",GLOBAL:"global",PERSONAL:"personal"}},{}],23:[function(e,t,a){"use strict";function r(e){return{type:Y.PLAY,status:!!e}}function s(e){return{type:Y.PAUSE,status:!!e}}function i(e){return{type:Y.MUTE,status:!!e}}function n(e){return{type:Y.UNMUTE,status:!!e}}function l(){return{type:Y.REPEAT}}function u(){return{type:Y.SHUFFLE}}function o(){return{type:Y.PLAYLIST}}function c(e){return{type:Y.INVALID,status:!!e}}function d(e){return{type:Y.FULLSCREEN,status:!!e}}function p(e){return{type:Y.AUDIO_MUTED,status:!!e}}function h(e){return{type:Y.VIDEO_SHOWING,status:!!e}}function f(e,t){return{type:Y.SHOW_OVERLAY,duration:e,action:t}}function m(){return{type:Y.HIDE_OVERLAY}}function y(){return{type:Y.SEARCH_TOGGLE}}function E(e){return{type:Y.SEARCH_FOCUS,focus:e}}function v(e,t){return{type:Y.NOW_PLAYING,status:!!e,state:t}}function S(){return{type:Y.PLAY_PREV}}function _(){return{type:Y.PLAY_NEXT}}function P(){return{type:Y.RESTART_PLAYLIST}}function g(){return{type:Y.PLAY_CURRENT}}function T(e,t){return{type:Y.PLAY_NOW,media:{id:e.id,type:e.type,title:e.title,duration:e.duration},source:t}}function N(e,t,a,r){return{type:Y.QUEUE_NEXT,media:{id:e,type:t,title:a,duration:r}}}function b(e,t){return{type:Y.SELECT_PLAYLIST,playlistType:e,index:t}}function L(e,t){return{type:Y.RESTORE_PLAYLISTS,playlistType:e,playlists:t}}function O(e,t){return{type:Y.CREATE_PLAYLIST,playlistType:e,name:t}}function U(e,t){return{type:Y.DELETE_PLAYLIST,playlistType:e,index:t}}function x(e,t,a){return{type:Y.DELETE_PLAYLIST,playlistType:e,index:t,media:a}}function C(e,t,a){return{type:Y.DELETE_PLAYLIST,playlistType:e,index:t,mediaIndex:a}}function A(e,t,a){return{type:Y.UPDATE_PLAYLIST,playlistType:e,index:t,name:a}}Object.defineProperty(a,"__esModule",{value:!0}),a.play=r,a.pause=s,a.mute=i,a.unmute=n,a.repeat=l,a.shuffle=u,a.playlist=o,a.invalid=c,a.fullscreen=d,a.audioMuted=p,a.videoShowing=h,a.showOverlay=f,a.hideOverlay=m,a.searchToggle=y,a.searchFocus=E,a.nowPlaying=v,a.playPrev=S,a.playNext=_,a.restartPlaylist=P,a.playCurrent=g,a.playNow=T,a.queueNext=N,a.selectPlaylist=b,a.restorePlaylists=L,a.createPlaylist=O,a.deletePlaylist=U,a.addToPlaylist=x,a.removeFromPlaylist=C,a.updatePlaylist=A;var Y=e("./actionTypes")},{"./actionTypes":22}],24:[function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{controls:o(e.controls,t),search:d(e.search,t),overlay:c(e.overlay,t),playlists:f(e.playlists,t),current:h(e.current,t,e.controls,e.playlists)}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=s;var i=e("./actionTypes"),n=function(e,t){return Object.assign({},e,t)},l={values:"abcdefghijklmnopqrstuvwxyz1234567890",length:6},u=function(e){for(var t=e.map(function(e){return e.key}),a=[];!a.length;){for(var r=0;r<l.length;r++)a.push(l.values[Math.floor(Math.random()*l.values.length)]);var s=a.join("").toUpperCase();if(t.indexOf(s)<0)return s;a.length=0}},o=function(e,t){switch(t.type){case i.PLAY:return n(e,{play:t.status});case i.PAUSE:return n(e,{pause:t.status});case i.MUTE:return n(e,{mute:t.status});case i.UNMUTE:return n(e,{unmute:t.status});case i.REPEAT:return n(e,{repeat:!e.repeat});case i.SHUFFLE:return n(e,{shuffle:!e.shuffle});case i.PLAYLIST:return n(e,{playlist:!e.playlist});default:return e}},c=function(e,t){switch(t.type){case i.SHOW_OVERLAY:return n(e,{show:!0,duration:t.duration,action:t.action});case i.HIDE_OVERLAY:return n(e,{show:!1,duration:0,callback:null});default:return e}},d=function(e,t){switch(t.type){case i.SEARCH_TOGGLE:var a=!e.expand;return n(e,{expand:a,focus:a});case i.SEARCH_FOCUS:return n(e,{expand:!0,focus:void 0===t.focus||t.focus});default:return e}},p=function(e){for(var t=e.slice(0),a=t.length-1;a>0;a--){var r=Math.floor(Math.random()*(a+1)),s=t[a];t[a]=t[r],t[r]=s}return t},h=function(e,t,a,r){switch(t.type){case i.INVALID:return n(e,{isInvalid:t.status});case i.AUDIO_MUTED:return n(e,{isMuted:t.status});case i.FULLSCREEN:return n(e,{isFullscreen:t.status});case i.VIDEO_SHOWING:return n(e,{isVideoShowing:t.status});case i.NOW_PLAYING:var s=e.playStates.slice(e.playStates.length>=3?1:0,e.playStates.length);return s.push(t.state),n(e,{isPlaying:t.status,playStates:s});case i.PLAY_CURRENT:if(!e.isPlaying){if(e.queue.length)return n(e,{media:e.queue[0],source:i.SOURCES.QUEUE});var l=Math.max(0,e.index);if(e.order[l])return n(e,{media:e.order[l],index:l,source:i.SOURCES.PLAYLIST})}return e;case i.PLAY_NEXT:var u=e.index;return null!==e.index&&e.source===i.SOURCES.PLAYLIST&&(u=Math.min(e.index+1,e.order.length)),e.queue.length&&e.source===i.SOURCES.QUEUE&&e.media.type===e.queue[0].type&&e.media.id===e.queue[0].id&&e.queue.shift(),e.queue.length?n(e,{media:e.queue[0],source:i.SOURCES.QUEUE,index:u}):null!==e.index&&(u=Math.max(u,0),u<=e.order.length-1)?n(e,{media:e.order[u],index:u,source:i.SOURCES.PLAYLIST}):n(e,{media:{id:null,type:i.MEDIA_TYPES.UNKNOWN,title:"",duration:""},index:u});case i.PLAY_PREV:if(e.source!==i.SOURCES.QUEUE&&null!==e.index){var o=Math.min(e.index-1,e.order.length-1);if(o>=0)return n(e,{media:e.order[o],index:o,isPlaylist:!0})}return e;case i.RESTART_PLAYLIST:return e.order.length?n(e,{isPlaying:!1,index:0}):e;case i.SHUFFLE:if(null!==e.playlist.index){var c=r[e.playlist.type]&&r[e.playlist.type][e.playlist.index]&&r[e.playlist.type][e.playlist.index].media||[];a.shuffle||(c=p(c));var d=e.index>=c.length?c.length:Math.max(c.map(function(e){return e.type+":"+e.id}).indexOf(e.media.type+":"+e.media.id),0);return n(e,{index:d,order:c})}return e;case i.PLAY_NOW:if(t.source===i.SOURCES.QUEUE){var h=-1,f=e.queue.filter(function(e,a){return e.type===t.media.type&&e.id===t.media.id&&(h=a,!0)}),m=e.queue.slice();return f.length&&(m=m.slice(0,h).concat(m.slice(h+1))),m=[t.media].concat(m),n(e,{media:t.media,source:t.source,queue:m})}if(t.source===i.SOURCES.PLAYLIST){var y=-1,E=e.order.filter(function(e,a){return e.type===t.media.type&&e.id===t.media.id&&(y=a,!0)});if(E.length)return n(e,{media:t.media,source:t.source,index:y})}return e;case i.QUEUE_NEXT:if((e.media.id!==t.media.id||e.media.type!==t.media.type)&&!e.queue.filter(function(e){return e.id===t.media.id&&e.type===t.media.type}).length){var v=e.queue.slice();return v.push(t.media),n(e,{queue:v})}return e;case i.SELECT_PLAYLIST:var S=t.playlistType,_=t.index||0,P=r[S]&&r[S][_]||{},g=P.media||[],T=P.name||"";a.shuffle&&(g=p(g));var N={playlist:{type:S,index:_,name:T},index:-1,order:g};return e.source===i.SOURCES.PLAYLIST&&(N.isPlaying=!1),n(e,N);default:return e}},f=function e(t,a){var e=void 0,s=void 0;switch(a.type){case i.RESTORE_PLAYLISTS:e=a.playlists;break;case i.CREATE_PLAYLIST:e=t[a.playlistType].slice(),e.push({name:a.name,key:u(t[a.playlistType]),created:Date.now(),modified:Date.now(),media:[]});break;case i.DELETE_PLAYLIST:e=t[a.playlistType].slice(),e.splice(a.index,1);break;case i.ADD_TO_PLAYLIST:e=t[a.playlistType].slice(),s=e[a.index],s.media.push(a.media),s.modified=Date.now();break;case i.REMOVE_FROM_PLAYLIST:e=t[a.playlistType].slice(),s=e[a.index],s.media.splice(a.mediaIndex,1),s.modified=Date.now();break;case i.UPDATE_PLAYLIST:e=t[a.playlistType].slice(),s=e[a.index],s.name=a.name,s.modified=Date.now();break;default:return t}return console.log("-->> CURRENT state:",t),console.log("-->> UPDATED STATE:",n(t,r({},a.playlistType,e))),n(t,r({},a.playlistType,e))}},{"./actionTypes":22}],25:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var s=e("react"),i=r(s),n=e("react-dom"),l=r(n),u=e("react-router"),o=e("./routes"),c=r(o);l.default.render(i.default.createElement(u.Router,{history:u.browserHistory},c.default),document.getElementById("app"))},{"./routes":26,react:"react","react-dom":"react-dom","react-router":"react-router"}],26:[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=r(s),n=e("react-router"),l=e("./components/App"),u=r(l),o=e("./components/Home"),c=r(o),d=e("./components/jukebox/Jukebox"),p=r(d),h=i.default.createElement(n.Route,{path:"/",component:u.default},i.default.createElement(n.IndexRoute,{component:c.default}),i.default.createElement(n.Route,{path:"/jukebox",component:p.default}));a.default=h},{"./components/App":1,"./components/Home":3,"./components/jukebox/Jukebox":7,react:"react","react-router":"react-router"}],27:[function(e,t,a){function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function n(e){if(p===clearTimeout)return clearTimeout(e);if((p===s||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function l(){y&&f&&(y=!1,f.length?m=f.concat(m):E=-1,m.length&&u())}function u(){if(!y){var e=i(l);y=!0;for(var t=m.length;t;){for(f=m,m=[];++E<t;)f&&f[E].run();E=-1,t=m.length}f=null,y=!1,n(e)}}function o(e,t){this.fun=e,this.array=t}function c(){}var d,p,h=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{p="function"==typeof clearTimeout?clearTimeout:s}catch(e){p=s}}();var f,m=[],y=!1,E=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];m.push(new o(e,t)),1!==m.length||y||i(u)},o.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}]},{},[25]);